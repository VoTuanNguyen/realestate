<title>Đăng tin mới</title>
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-2"></div>
    <div class="col-sm-8">
      <div class="col-sm-12 my-3">
        <div class="card card-body bg-light" style="background: rgb(230, 227, 227);">
          <div class="col-xs-12" style="text-align: center;">
            <strong>
              <h2>Đăng tin mới</h2>
            </strong>
          </div>

          <div class="card bg-light">
            <div class="card-body">
              <strong>
                <h4>Thông tin chi tiết</h4>
              </strong>
              <table class="table">
                <tbody>
                  <tr>
                    <td style="width: 150px;">
                      <b>Tiêu đề</b>
                    </td>
                    <td>
                      <input [(ngModel)]="title" name="title" type="text" class="form-control" placeholder="Nhập tiêu đề*">
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 150px;">
                      <b>Loại</b>
                    </td>
                    <td>
                      <input [(ngModel)]="type" name="type" type="text" placeholder="Loại bất động sản*" class="form-control">
                    </td>
                  </tr>
                </tbody>
              </table>
              <table class="table">
                <tbody>
                  <tr>
                    <td style="width: 150px;">
                      <b>Giá</b>
                    </td>
                    <td>
                      <input [(ngModel)]="hotelPrice" name="hotelPrice" type="number" placeholder="Nhập giá*" class="form-control">
                    </td>
                    <td>
                      <select class="form-control" (change)="onChangeUnitMoney($event.target.value)">
                        <option selected value="1">VNĐ</option>
                        <option value="1000000">Triệu VNĐ</option>
                        <option value="1000000000">Tỷ VNĐ</option>
                      </select>
                    </td>
                  </tr>
                </tbody>
              </table>
              <table class="table">
                <tbody>
                  <tr>
                    <td style="width: 150px;">
                      <b>Diện tích</b>
                    </td>
                    <td>
                      <input [(ngModel)]="heigthHotel" name="heigthHotel" type="number" placeholder="Chiều dài*" class="form-control">
                    </td>
                    <td>
                      <div style="margin-top: 10px;">m</div>
                    </td>
                    <td>
                      <div style="margin-top: 10px;">
                        <b>X</b>
                      </div>
                    </td>
                    <td>
                      <input [(ngModel)]="widthHotel" name="widthHotel" type="number" placeholder="Chiều rộng*" class="form-control">
                    </td>
                    <td>
                      <div style="margin-top: 10px;">m</div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="card bg-light" style="margin-top: 10px;">
            <div class="card-body">
              <strong>
                <h4>Mô tả thêm</h4>
              </strong>
              <ck-editor name="editor1" [(ngModel)]="hotelDescribe" skin="moono-lisa" language="en" [fullPage]="true"></ck-editor>
            </div>
          </div>

          <div class="card bg-light" style="margin-top: 10px;">
            <div class="card-body">
              <strong>
                <h4>Thông tin địa chỉ</h4>
              </strong>
              <table class="table">
                <tbody>
                  <tr>
                    <td style="width: 150px;">
                      <b>Tỉnh/Thành phố</b>
                    </td>
                    <td>
                      <select class="form-control" (change)="onChangeCity($event.target.value)">
                        <option *ngFor="let city of tinhthanh" value="{{city.id}}">{{city.tentp}}</option>
                      </select>
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 150px;">
                      <b>Quận/Huyện</b>
                    </td>
                    <td>
                      <select class="form-control" (change)="onChangeDistrict($event.target.value)">
                        <option *ngFor="let dis of district" value="{{dis.id}}">{{dis.tenquanhuyen}}</option>
                      </select>
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 150px;">
                      <b>Số nhà</b>
                    </td>
                    <td>
                      <input [(ngModel)]="detailAdress" name="detailAdress" type="text" class="form-control" placeholder="Số nhà, đường, phường/xã*">
                    </td>
                  </tr>
                </tbody>
              </table>
              <table class="table">
                <tbody>
                  <tr>
                    <td>
                      <input [(ngModel)]="keysearch" name="keysearch" type="text" (input)="onSearchChange($event.target.value)" class="form-control"
                        placeholder="Nhập vị trí">
                      <div id="myInputautocomplete-list" class="autocomplete-items">
                        <div *ngFor="let rs of address" id="{{rs.placeid}}&text={{rs.text}}" (click)="clickSearch($event)">
                          {{rs.text}}
                        </div>
                        <div #gmap (click)="clickMap()" style="width:100%; height:400px; margin-top: 10px;"></div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="card bg-light" style="margin-top: 10px;">
            <div class="card-body">
              <strong>
                <h4>Thông tin liên hệ</h4>
              </strong>
              <table class="table">
                <tbody>
                  <tr>
                    <td style="width: 150px;">
                      <b>Họ tên</b>
                    </td>
                    <td>
                      <input [(ngModel)]="nameBoss" name="nameBoss" type="text" class="form-control" placeholder="Nhập họ tên*">
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 150px;">
                      <b>Số điện thoại</b>
                    </td>
                    <td>
                      <input [(ngModel)]="phoneBoss" name="phoneBoss" type="text" class="form-control" placeholder="Nhập số điện thoại*">
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 150px;">
                      <b>Email</b>
                    </td>
                    <td>
                      <input [(ngModel)]="emailBoss" name="emailBoss" type="text" class="form-control" placeholder="Nhập địa chỉ email">
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 150px;">
                      <b>Facebook</b>
                    </td>
                    <td>
                      <input [(ngModel)]="facebookBoss" name="facebookBoss" type="text" class="form-control" placeholder="Nhập địa chỉ facebook">
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="card bg-light" style="margin-top: 10px;">
            <div class="card-body">
              <strong>
                <h4>Ảnh về phòng trọ</h4>
              </strong>
              <div class="row" style="padding: 10px;">
                <input style="display: none;" type="file" accept="image/*" (change)="onFileSelect($event.target.files)" multiple #fileInput>
                <div class="col-sm-3 upload" style="cursor: pointer;">
                  <img (click)="fileInput.click()" src="assets/images/upload.PNG" alt="Tải ảnh lên" title="Chọn ảnh tải lên" class="img-thumbnail"
                    style="height: 200px; width:300px;">
                </div>
                <div class="col-sm-3" *ngFor="let src of listImg">
                  <div (click)="removeImg($event)" style="position: absolute; right: 20px; text-decoration:none; color: black; cursor: pointer;">X</div>
                  <img src="{{src.img}}" name="{{src.id}}" alt="Ảnh" class="img-thumbnail" #Image accept="image/*" style="height: 200px; width:300px;">
                </div>
              </div>
            </div>
          </div>

          <div class="col-sm-12" style="text-align: center; margin-bottom: 10px; margin-top: 10px;">
            <button (click)="Submit()" type="button" id="dangtin" class="btn btn-primary">Đăng tin</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<button id="openmodal" data-target="#notify" data-toggle="modal" style="display: none;"></button>
<div class="modal" id="notify" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Thông báo</h4>
        <button class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        Đăng tin thành công! Nhấn "Có" để refresh lại trang và tiếp tục đăng tin khác!
      </div>
      <div class="modal-footer">
        <div class="col-sm-12">
          <button id="add_lesson" class="col-md-2 btn btn-primary" (click)="reload()" style="margin-left: 50px" data-dismiss="modal">Có</button>
          <button class="col-md-2 btn btn-primary" style="margin-left: 150px" data-dismiss="modal">Hủy</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="loader" *ngIf="isSaveLoad" style="position: fixed; top: 40%; left: 50%"></div>